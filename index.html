<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CASEP Group â€“ Interactive Web App</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Custom Styles -->
  <style>
:root {
  --accent: #ffc107;
  --brand-dark: #0b2540;
  --brand-light: #ffffff;
  --surface: #f8f9fa;
  --text-dark: #0b1220;
  --text-light: #ffffff;
}

/* ===== Theme ===== */
body[data-theme="dark"] {
  --surface: #0b1220;
  --text-dark: #f8f9fa;
  --text-light: #f8f9fa;
  background-color: var(--surface);
  color: var(--text-dark);
}

body[data-theme="light"] {
  background-color: var(--surface);
  color: var(--text-dark);
}

html {
  scroll-behavior: smooth;
}

/* ===== Navbar ===== */
.navbar {
  background-color: transparent !important;
  transition: background-color 0.3s ease, padding 0.25s ease;
  padding-top: 0.75rem;
  padding-bottom: 0.75rem;
  z-index: 1000;
}

.navbar-shrink {
  padding-top: 0.25rem !important;
  padding-bottom: 0.25rem !important;
  transition: padding 0.25s ease;
}

.navbar .nav-link {
  color: white !important;
  font-weight: 500;
  transition: color 0.3s, transform 0.15s ease;
}

.navbar .nav-link:hover {
  color: var(--accent) !important;
  transform: translateY(-2px);
}

.navbar-collapse {
  background: rgba(0, 0, 0, 0.85);
  border-radius: 10px;
  padding: 1rem;
}

.navbar-toggler-icon {
  filter: invert(1);
}

body {
  overflow-x: hidden;
}

/* ===== Hero Section ===== */
.hero-section {
  position: relative;
  height: 100vh;
  min-height: 520px;
  overflow: hidden;
  color: var(--text-light);
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

.hero-section video {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: 0;
  filter: brightness(60%);
}

.hero-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, rgba(3, 10, 20, 0.45), rgba(3, 10, 20, 0.6));
  z-index: 1;
}

.hero-content {
  z-index: 2;
  max-width: 1000px;
  padding: 1rem;
}

.hero-content h1,
.hero-section h1 {
  font-size: 3rem;
  font-weight: 700;
}

.hero-content p,
.hero-section p {
  font-size: 1.25rem;
  max-width: 700px;
  margin: 20px auto;
}

.btn-warning {
  font-weight: 600;
  padding: 0.75rem 2rem;
  border-radius: 30px;
}

/* ===== Section Styles ===== */
section {
  padding: 100px 0;
}

#about, #services, #contact {
  background: #f8f9fa;
}

footer {
  background: #000;
  color: white;
  text-align: center;
  padding: 20px 0;
}

footer a {
  color: #ffc107;
  text-decoration: none;
}

/* ===== Cards Hover ===== */
.card-service {
  transition: transform .28s ease, box-shadow .28s ease;
  cursor: pointer;
}

.card-service:hover {
  transform: translateY(-8px);
  box-shadow: 0 10px 30px rgba(2, 6, 23, 0.12);
}

/* ===== Reveal Animation ===== */
.reveal {
  opacity: 0;
  transform: translateY(18px);
  transition: opacity .6s ease, transform .6s ease;
}

.reveal.visible {
  opacity: 1;
  transform: translateY(0);
}

/* ===== Back to Top ===== */
#backToTop {
  position: fixed;
  right: 18px;
  bottom: 22px;
  z-index: 1050;
  display: none;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  box-shadow: 0 8px 20px rgba(2, 6, 23, 0.18);
}

/* ===== Chatbot Styles ===== */
.chat-launch {
  position: fixed;
  right: 18px;
  bottom: 18px;
  z-index: 1080;
  width: 64px;
  height: 64px;
  border-radius: 50%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #ffb347, #ffc107);
  box-shadow: 0 10px 30px rgba(11, 37, 64, 0.25);
  cursor: pointer;
  transition: transform .18s ease;
}

.chat-launch:active {
  transform: scale(.96);
}

.chat-panel {
  position: fixed;
  right: 20px;
  bottom: 90px;
  z-index: 1080;
  width: 360px;
  max-width: calc(100% - 40px);
  height: 520px;
  background: var(--surface);
  border-radius: 12px;
  box-shadow: 0 18px 60px rgba(2, 6, 23, 0.28);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  transform-origin: bottom right;
  transition: transform .22s cubic-bezier(.2,.9,.3,1), opacity .22s ease;
  opacity: 0;
  pointer-events: none;
}

body[data-theme="dark"] .chat-panel {
  background: #07111a;
  color: var(--text-light);
}

.chat-panel.open {
  opacity: 1;
  transform: translateY(0) scale(1);
  pointer-events: auto;
}

.chat-panel.minimized {
  opacity: 0;
  transform: translateY(12px) scale(.98);
  pointer-events: none;
}

.chat-header {
  padding: 12px 14px;
  display: flex;
  align-items: center;
  gap: 10px;
  border-bottom: 1px solid rgba(0,0,0,0.06);
  background: linear-gradient(90deg, rgba(255,193,7,0.06), rgba(0,0,0,0));
  backdrop-filter: blur(4px);
}

.chat-title {
  font-weight: 700;
  font-size: 0.95rem;
  margin: 0;
  flex: 1;
}

.chat-body {
  flex: 1;
  padding: 12px;
  overflow-y: auto;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.01));
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.message {
  max-width: 82%;
  padding: 10px 12px;
  border-radius: 12px;
  font-size: 0.92rem;
  line-height: 1.3;
  box-shadow: 0 4px 12px rgba(2,6,23,0.06);
  word-wrap: break-word;
}

.message.user {
  align-self: flex-end;
  background: linear-gradient(90deg, rgba(255,193,7,0.12), rgba(255,193,7,0.18));
  color: #07111a;
}

.message.bot {
  align-self: flex-start;
  background: rgba(255,255,255,0.95);
  color: #07111a;
}

.chat-footer {
  padding: 10px;
  border-top: 1px solid rgba(0,0,0,0.06);
  display: flex;
  gap: 8px;
  align-items: center;
  background: transparent;
}

.chat-footer input[type="text"] {
  flex: 1;
  border-radius: 999px;
  padding: 10px 14px;
  border: 1px solid rgba(0,0,0,0.08);
  outline: none;
  transition: box-shadow .12s ease, border-color .12s ease;
  background: #fff;
}

/* Typing Indicator */
.typing {
  display: inline-flex;
  gap: 4px;
  align-items: center;
  padding: 8px 12px;
}

.dot {
  width: 7px;
  height: 7px;
  background: rgba(0,0,0,0.12);
  border-radius: 50%;
  opacity: 0.9;
  animation: blink 1s infinite;
}

@keyframes blink {
  0%, 100% { transform: translateY(0); opacity: .2; }
  50% { transform: translateY(-4px); opacity: 1; }
}

/* Small screens */
@media (max-width: 576px) {
  .hero-section {
    height: 68vh;
    min-height: 420px;
  }
  .display-4 {
    font-size: 2rem;
  }
}

@media (max-width: 480px) {
  .chat-panel {
    right: 10px;
    left: 10px;
    bottom: 16px;
    width: auto;
    max-height: calc(100vh - 40px);
    height: calc(100vh - 120px);
  }
}

  </style>
</head>

<body data-theme="light">

  <!-- NAVBAR -->
  <nav id="mainNav" class="navbar navbar-expand-lg navbar-dark fixed-top">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="#">
        <img src="casep logo.png" alt="CASEP Group Logo" class="me-2" style="height: 60px; width: auto;">
        <span class="fw-bold text-white visually-hidden">CASEP Group</span>
      </a>
      <button class="btn btn-outline-light d-lg-none me-2" id="themeToggle" title="Toggle theme"><i
          class="bi bi-moon-fill"></i></button>
      <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navMenu">
        <ul class="navbar-nav ms-auto align-items-lg-center">
          <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
          <li class="nav-item"><a class="nav-link" href="#vision">Vision</a></li>
          <li class="nav-item"><a class="nav-link" href="#mission">Mission</a></li>
          <li class="nav-item"><a class="nav-link" href="#services">Services</a></li>
          <li class="nav-item"><a class="nav-link" href="#values">Values</a></li>
          <li class="nav-item"><a class="nav-link" href="#partner">Why Partner</a></li>
          <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
          <li class="nav-item ms-3 d-none d-lg-block">
            <button class="btn btn-warning fw-semibold" data-bs-toggle="modal"
              data-bs-target="#contactModal">Enquire</button>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- HERO (VIDEO) -->
  <header class="hero-section">
    <!-- Sample video (Big Buck Bunny) as placeholder; replace with your own if available -->
    <video autoplay muted loop playsinline>
      <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
      <!-- Fallback image -->
    </video>
    <div class="hero-overlay"></div>

    <div class="container hero-content text-center reveal">
      <h1 class="display-4 mb-3">Welcome to CASEP Group</h1>
      <p class="lead mb-4">Transforming businesses through strategic, innovative, and results-driven services.</p>
      <div class="d-flex justify-content-center gap-2 flex-wrap">
        <a href="#services" class="btn btn-warning btn-lg fw-semibold">Our Services</a>
        <button class="btn btn-outline-light btn-lg" data-bs-toggle="modal" data-bs-target="#contactModal">Contact
          Us</button>
      </div>
    </div>
  </header>

  <!-- ABOUT -->
  <section id="about" class="py-5">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 reveal">
          <h2 class="fw-bold">About Us</h2>
          <p class="lead">CASEP Group is a professional services company offering a comprehensive suite of solutions
            across Accounting, Human Resource, Marketing, Advertising, and Technology. We are committed to transforming
            how businesses operate by providing strategic, innovative, and results-driven services that enable
            sustainable growth in todayâ€™s competitive environment.</p>
          <div class="mt-3">
            <button class="btn btn-outline-primary me-2" id="openServiceModalBtn" data-service="all">Explore
              Services</button>
            <a href="#contact" class="btn btn-warning">Get In Touch</a>
          </div>
        </div>
        <div class="col-lg-6 text-center reveal">
          <div class="row g-3">
            <div class="col-6">
              <div class="p-4 bg-white rounded shadow-sm">
                <div class="stat" data-target="12">0</div>
                <div class="small">Years Experience</div>
              </div>
            </div>
            <div class="col-6">
              <div class="p-4 bg-white rounded shadow-sm">
                <div class="stat" data-target="250">0</div>
                <div class="small">Projects Completed</div>
              </div>
            </div>
            <div class="col-6">
              <div class="p-4 bg-white rounded shadow-sm">
                <div class="stat" data-target="45">0</div>
                <div class="small">Satisfied Clients</div>
              </div>
            </div>
            <div class="col-6">
              <div class="p-4 bg-white rounded shadow-sm">
                <div class="stat" data-target="8">0</div>
                <div class="small">Industry Partners</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- VISION -->
  <section id="vision" class="bg-light py-5">
    <div class="container reveal">
      <h3 class="fw-bold text-center mb-3">Our Vision</h3>
      <p class="text-center mx-auto" style="max-width: 850px;">To become a leading African business solutions provider
        recognized for excellence, innovation, and integrity.</p>
    </div>
  </section>

  <!-- MISSION -->
  <section id="mission" class="py-5">
    <div class="container reveal">
      <h3 class="fw-bold text-center mb-3">Our Mission</h3>
      <p class="text-center mx-auto" style="max-width: 850px;">To empower organizations with tailored services that
        enhance performance, unlock opportunities, and create measurable value.</p>
    </div>
  </section>

  <!-- SERVICES -->
  <section id="services" class="bg-light py-5">
    <div class="container">
      <h3 class="fw-bold text-center mb-5 reveal">Our Core Services</h3>
      <div class="row g-4">
        <!-- Service cards clickable -->
        <div class="col-md-6 col-lg-4 reveal">
          <div class="card card-service h-100 border-0">
            <div class="card-body">
              <div class="d-flex align-items-start gap-3">
                <div class="fs-2 text-warning"><i class="bi bi-calculator-fill"></i></div>
                <div>
                  <h5 class="card-title">Accounting</h5>
                  <p class="card-text">Bookkeeping, auditing, payroll, tax advisory and strategic financial planning.
                  </p>
                  <button class="btn btn-sm btn-outline-primary mt-2 service-details"
                    data-service="Accounting">Details</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-6 col-lg-4 reveal">
          <div class="card card-service h-100 border-0">
            <div class="card-body">
              <div class="d-flex align-items-start gap-3">
                <div class="fs-2 text-warning"><i class="bi bi-people-fill"></i></div>
                <div>
                  <h5 class="card-title">Human Resource</h5>
                  <p class="card-text">Recruitment, HR outsourcing, performance management and training.</p>
                  <button class="btn btn-sm btn-outline-primary mt-2 service-details"
                    data-service="Human Resource">Details</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-6 col-lg-4 reveal">
          <div class="card card-service h-100 border-0">
            <div class="card-body">
              <div class="d-flex align-items-start gap-3">
                <div class="fs-2 text-warning"><i class="bi bi-bullseye"></i></div>
                <div>
                  <h5 class="card-title">Marketing</h5>
                  <p class="card-text">Brand positioning, market research and campaign planning.</p>
                  <button class="btn btn-sm btn-outline-primary mt-2 service-details"
                    data-service="Marketing">Details</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-6 col-lg-4 reveal">
          <div class="card card-service h-100 border-0">
            <div class="card-body">
              <div class="d-flex align-items-start gap-3">
                <div class="fs-2 text-warning"><i class="bi bi-megaphone-fill"></i></div>
                <div>
                  <h5 class="card-title">Advertising</h5>
                  <p class="card-text">Creative campaigns, media management and content creation.</p>
                  <button class="btn btn-sm btn-outline-primary mt-2 service-details"
                    data-service="Advertising">Details</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-6 col-lg-4 reveal">
          <div class="card card-service h-100 border-0">
            <div class="card-body">
              <div class="d-flex align-items-start gap-3">
                <div class="fs-2 text-warning"><i class="bi bi-laptop"></i></div>
                <div>
                  <h5 class="card-title">Technology</h5>
                  <p class="card-text">Digital transformation, software development and cybersecurity.</p>
                  <button class="btn btn-sm btn-outline-primary mt-2 service-details"
                    data-service="Technology">Details</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-6 col-lg-4 reveal">
          <div class="card card-service h-100 border-0">
            <div class="card-body">
              <div class="d-flex align-items-start gap-3">
                <div class="fs-2 text-warning"><i class="bi bi-gear-fill"></i></div>
                <div>
                  <h5 class="card-title">Consulting</h5>
                  <p class="card-text">Strategic advisory, operations improvement and business resilience.</p>
                  <button class="btn btn-sm btn-outline-primary mt-2 service-details"
                    data-service="Consulting">Details</button>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- VALUES -->
  <section id="values" class="py-5">
    <div class="container reveal">
      <h3 class="fw-bold text-center mb-4">Our Values</h3>
      <div class="row g-3">
        <div class="col-md-4">
          <div class="p-4 border rounded h-100">
            <h5 class="fw-bold">Integrity</h5>
            <p>We uphold the highest ethical standards in every engagement.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="p-4 border rounded h-100">
            <h5 class="fw-bold">Innovation</h5>
            <p>We leverage modern tools and strategies to stay ahead of industry trends.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="p-4 border rounded h-100">
            <h5 class="fw-bold">Excellence</h5>
            <p>We deliver quality solutions that exceed client expectations.</p>
          </div>
        </div>
        <div class="col-md-6 mt-3">
          <div class="p-4 border rounded h-100">
            <h5 class="fw-bold">Collaboration</h5>
            <p>We build strong, long-term partnerships with our clients.</p>
          </div>
        </div>
        <div class="col-md-6 mt-3">
          <div class="p-4 border rounded h-100">
            <h5 class="fw-bold">Sustainability</h5>
            <p>We design solutions with long-term business growth in mind.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- WHY PARTNER -->
  <section id="partner" class="bg-light py-5">
    <div class="container reveal">
      <h3 class="fw-bold text-center mb-4">Why Partner with CASEP Group?</h3>
      <div class="row justify-content-center">
        <div class="col-lg-9">
          <ul class="list-group list-group-flush shadow-sm">
            <li class="list-group-item">Comprehensive expertise under one roof â€“ multidisciplinary solutions for
              seamless business operations.</li>
            <li class="list-group-item">Client-centric approach â€“ we tailor our services to each organizationâ€™s unique
              needs.</li>
            <li class="list-group-item">Proven results â€“ track record of enabling businesses to scale effectively.</li>
            <li class="list-group-item">Forward-looking solutions â€“ leveraging technology and data-driven strategies to
              stay competitive.</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- CONTACT (inline & modal trigger) -->
  <section id="contact" class="py-5">
    <div class="container reveal">
      <div class="row">
        <div class="col-lg-6">
          <h3 class="fw-bold mb-3">Contact Us</h3>
          <p>Have questions or want to work with us? Send us a message below or use the Enquire button to open the quick
            modal form.</p>
          <form id="contactForm">
            <div class="mb-3">
              <input type="text" class="form-control" id="name" placeholder="Your name" required>
            </div>
            <div class="mb-3">
              <input type="email" class="form-control" id="email" placeholder="Email address" required>
            </div>
            <div class="mb-3">
              <select class="form-select" id="serviceSelect">
                <option value="">I'm interested in...</option>
                <option>Accounting</option>
                <option>Human Resource</option>
                <option>Marketing</option>
                <option>Advertising</option>
                <option>Technology</option>
                <option>Consulting</option>
              </select>
            </div>
            <div class="mb-3">
              <textarea class="form-control" id="message" rows="4" placeholder="Message"></textarea>
            </div>
            <button class="btn btn-warning" type="submit">Send Message</button>
          </form>
        </div>

        <div class="col-lg-6 text-center">
          <h5 class="mb-3">Testimonials</h5>
          <div id="testimonialCarousel" class="carousel slide reveal" data-bs-ride="carousel">
            <div class="carousel-inner">
              <div class="carousel-item active">
                <blockquote class="blockquote">
                  <p class="mb-0">"CASEP helped us restructure and cut costs while improving efficiency."</p>
                  <footer class="blockquote-footer">CEO, TechCo</footer>
                </blockquote>
              </div>
              <div class="carousel-item">
                <blockquote class="blockquote">
                  <p class="mb-0">"Their tailored HR solutions simplified our hiring process."</p>
                  <footer class="blockquote-footer">HR Lead, RetailCo</footer>
                </blockquote>
              </div>
              <div class="carousel-item">
                <blockquote class="blockquote">
                  <p class="mb-0">"Professional, responsive and results-driven."</p>
                  <footer class="blockquote-footer">COO, FinanceCorp</footer>
                </blockquote>
              </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#testimonialCarousel"
              data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#testimonialCarousel"
              data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="bg-dark text-light py-4">
    <div class="container text-center">
      <div class="mb-3">
        <a class="social-icon text-light" href="#"><i class="bi bi-facebook"></i></a>
        <a class="social-icon text-light" href="#"><i class="bi bi-linkedin"></i></a>
        <a class="social-icon text-light" href="#"><i class="bi bi-twitter"></i></a>
      </div>
      <p class="mb-1 fw-bold">CASEP Group Â© <span id="year"></span></p>
      <small>Empowering organizations through innovation and excellence.</small>
    </div>
  </footer>

  <!-- BACK TO TOP -->
  <button id="backToTop" class="btn btn-warning shadow" title="Back to top">
    <i class="bi bi-arrow-up"></i>
  </button>

  <!-- SERVICE DETAILS MODAL -->
  <div class="modal fade" id="serviceModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="serviceModalTitle">Service</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body" id="serviceModalBody">
          <!-- Filled by JS -->
          <p>Loading service details...</p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button class="btn btn-warning" id="modalEnquireBtn">Enquire About This</button>
        </div>
      </div>
    </div>
  </div>

  <!-- CONTACT MODAL (simulate send) -->
  <div class="modal fade" id="contactModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <form id="modalContactForm">
          <div class="modal-header">
            <h5 class="modal-title">Quick Enquiry</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <div id="modalAlert" class="alert d-none" role="alert"></div>
            <div class="mb-3">
              <input type="text" id="mname" class="form-control" placeholder="Your name" required>
            </div>
            <div class="mb-3">
              <input type="email" id="memail" class="form-control" placeholder="Email address" required>
            </div>
            <div class="mb-3">
              <select id="mservice" class="form-select">
                <option value="">Service of interest</option>
                <option>Accounting</option>
                <option>Human Resource</option>
                <option>Marketing</option>
                <option>Advertising</option>
                <option>Technology</option>
                <option>Consulting</option>
              </select>
            </div>
            <div class="mb-3">
              <textarea id="mmessage" class="form-control" rows="4" placeholder="Message"></textarea>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="submit" id="modalSendBtn" class="btn btn-warning">Send Enquiry</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Thank you small modal -->
  <div class="modal fade" id="thankModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered">
      <div class="modal-content text-center p-3">
        <div class="mt-2">
          <i class="bi bi-check-circle-fill text-success" style="font-size: 3rem;"></i>
        </div>
        <div class="modal-body">
          <h5 class="fw-bold">Thanks!</h5>
          <p class="mb-0">Your enquiry has been received. We'll get back to you soon.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- ===========================
       Advanced Chatbot UI HTML
       =========================== -->
  <div class="chat-launch" id="chatLaunch" aria-label="Open chat" role="button" title="Chat with CASEP">
    <i class="bi bi-chat-dots" style="font-size: 1.45rem; color: #07111a;"></i>
  </div>

  <div class="chat-panel minimized" id="chatPanel" aria-hidden="true" role="dialog" aria-label="Assistant chat">
    <div class="chat-header">
      <div>
        <div class="chat-title">CASEP Assistant</div>
        <div class="chat-sub">Ask about our services, pricing, or contact</div>
      </div>
      <div class="d-flex align-items-center gap-2">
        <button class="btn btn-sm btn-icon btn-light me-1" id="clearChat" title="Clear chat">
          <i class="bi bi-trash"></i>
        </button>
        <button class="btn btn-sm btn-icon btn-light me-1" id="exportChat" title="Export chat">
          <i class="bi bi-download"></i>
        </button>
        <button class="btn btn-sm btn-icon btn-light" id="closeChat" title="Close chat">
          <i class="bi bi-x-lg"></i>
        </button>
      </div>
    </div>

    <div class="chat-body" id="chatBody" role="log" aria-live="polite">
      <!-- messages appended here -->
    </div>

    <div class="chat-footer">
      <input id="chatInput" type="text" placeholder="Type a message â€” e.g. 'pricing', 'services', 'contact'" aria-label="Message input">
      <button class="btn btn-warning" id="sendBtn" title="Send message"><i class="bi bi-send-fill"></i></button>
    </div>
  </div>

  <!-- SCRIPTS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // ========== Basic Utilities & Setup ==========
    document.getElementById('year').textContent = new Date().getFullYear();

    // Theme toggle (existing)
    const themeToggle = document.getElementById('themeToggle');
    const bodyEl = document.body;
    const savedTheme = localStorage.getItem('casepTheme') || 'light';
    bodyEl.setAttribute('data-theme', savedTheme);
    if (themeToggle) {
      themeToggle.innerHTML = savedTheme === 'dark' ? '<i class="bi bi-sun-fill"></i>' : '<i class="bi bi-moon-fill"></i>';
      themeToggle.classList.toggle('btn-outline-light', savedTheme === 'light');
      themeToggle.addEventListener('click', () => {
        const next = bodyEl.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
        bodyEl.setAttribute('data-theme', next);
        localStorage.setItem('casepTheme', next);
        themeToggle.innerHTML = next === 'dark' ? '<i class="bi bi-sun-fill"></i>' : '<i class="bi bi-moon-fill"></i>';
        themeToggle.classList.toggle('btn-outline-light', next === 'light');
      });
    }

    // ========= Navbar behavior on scroll (keeps transparent; only padding changes) =========
    const nav = document.getElementById('mainNav');

    function handleNav() {
      if (window.scrollY > 40) {
        nav.classList.add('navbar-shrink');
      } else {
        nav.classList.remove('navbar-shrink');
      }
    }
    handleNav();
    window.addEventListener('scroll', handleNav);

    // ========= Reveal on scroll =========
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add('visible');
      });
    }, {
      threshold: 0.12
    });

    document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

    // ========= Counters animation =========
    const statObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const el = entry.target;
          const target = +el.getAttribute('data-target');
          let start = 0;
          const duration = 1600;
          const stepTime = Math.max(10, Math.abs(Math.floor(duration / target)));
          const increment = Math.max(1, Math.ceil(target / (duration / stepTime)));
          const timer = setInterval(() => {
            start += increment;
            if (start >= target) {
              el.textContent = target;
              clearInterval(timer);
            } else {
              el.textContent = start;
            }
          }, stepTime);
          statObserver.unobserve(el);
        }
      });
    }, {
      threshold: 0.3
    });

    document.querySelectorAll('.stat').forEach(s => statObserver.observe(s));

    // ========= Back to top =========
    const backBtn = document.getElementById('backToTop');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 400) backBtn.style.display = 'block';
      else backBtn.style.display = 'none';
    });
    backBtn.addEventListener('click', () => window.scrollTo({
      top: 0,
      behavior: 'smooth'
    }));

    // ========= Smooth scroll for anchor links =========
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener('click', function (e) {
        const href = this.getAttribute('href');
        if (href.length > 1) {
          e.preventDefault();
          const target = document.querySelector(href);
          if (!target) return;
          const navHeight = nav.offsetHeight + 8;
          const targetPos = target.getBoundingClientRect().top + window.scrollY - navHeight;
          window.scrollTo({
            top: targetPos,
            behavior: 'smooth'
          });
          // collapse mobile menu
          const bsCollapse = bootstrap.Collapse.getInstance(document.getElementById('navMenu'));
          if (bsCollapse && window.getComputedStyle(document.querySelector('.navbar-toggler')).display !== 'none') {
            bsCollapse.hide();
          }
        }
      });
    });

    // ========= Service modal logic (existing) =========
    const services = {
      "Accounting": {
        title: "Accounting Services",
        body: "<p>Comprehensive financial management: bookkeeping, auditing, payroll, tax advisory, compliance and strategic financial planning. We provide timely financial reports and actionable insights.</p>"
      },
      "Human Resource": {
        title: "Human Resource Services",
        body: "<p>Recruitment, HR outsourcing, performance management, workforce training and organisational development. We help build effective teams and HR systems.</p>"
      },
      "Marketing": {
        title: "Marketing Services",
        body: "<p>Brand positioning, market research, campaign planning, and customer engagement strategies designed to grow your market share.</p>"
      },
      "Advertising": {
        title: "Advertising Services",
        body: "<p>Creative campaigns, media management and content creation across digital and traditional channels to ensure your message reaches the right audience.</p>"
      },
      "Technology": {
        title: "Technology Services",
        body: "<p>Digital transformation, IT infrastructure, software development, cybersecurity and systems integration to modernize your operations.</p>"
      },
      "Consulting": {
        title: "Consulting Services",
        body: "<p>Strategic advisory, process improvement and implementation support to help your business operate more effectively and profitably.</p>"
      },
      "all": {
        title: "Our Services",
        body: "<p>Explore our core services: Accounting, Human Resource, Marketing, Advertising, Technology and Consulting. Choose a service to see detailed offerings and enquire directly.</p>"
      }
    };

    const serviceModal = new bootstrap.Modal(document.getElementById('serviceModal'));
    let selectedServiceName = 'all';

    document.querySelectorAll('.service-details, #openServiceModalBtn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const name = btn.dataset.service || btn.getAttribute('data-service') || 'all';
        selectedServiceName = name;
        const info = services[name] || services['all'];
        document.getElementById('serviceModalTitle').textContent = info.title;
        document.getElementById('serviceModalBody').innerHTML = info.body + '<hr><p><strong>Ready to discuss?</strong> Click Enquire to open the quick contact form.</p>';
        serviceModal.show();
      });
    });

    // Enquire -> open contact modal prefilling
    document.getElementById('modalEnquireBtn').addEventListener('click', () => {
      serviceModal.hide();
      const contactModal = new bootstrap.Modal(document.getElementById('contactModal'));
      const mservice = document.getElementById('mservice');
      if (mservice) {
        let found = false;
        for (let i = 0; i < mservice.options.length; i++) {
          if (mservice.options[i].text === selectedServiceName) {
            mservice.selectedIndex = i;
            found = true;
            break;
          }
        }
        if (!found) mservice.value = selectedServiceName;
      }
      contactModal.show();
    });

    // ========= Contact form handling (simulate) =========
    const contactForm = document.getElementById('contactForm');
    contactForm.addEventListener('submit', (e) => {
      e.preventDefault();
      simulateSend({
        name: document.getElementById('name').value,
        email: document.getElementById('email').value,
        service: document.getElementById('serviceSelect').value,
        message: document.getElementById('message').value
      });
    });

    const modalContactForm = document.getElementById('modalContactForm');
    modalContactForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const sendBtn = document.getElementById('modalSendBtn');
      const modalAlert = document.getElementById('modalAlert');

      sendBtn.disabled = true;
      sendBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>Sending...';

      setTimeout(() => {
        sendBtn.disabled = false;
        sendBtn.innerHTML = 'Send Enquiry';
        modalAlert.className = 'alert alert-success';
        modalAlert.textContent = 'Your enquiry has been simulated as sent. Thank you!';
        modalAlert.classList.remove('d-none');

        setTimeout(() => {
          const bsContactModal = bootstrap.Modal.getInstance(document.getElementById('contactModal'));
          bsContactModal?.hide();
          const thank = new bootstrap.Modal(document.getElementById('thankModal'));
          thank.show();
          modalContactForm.reset();
          modalAlert.classList.add('d-none');
        }, 900);
      }, 1400);
    });

    function simulateSend(payload) {
      const btn = contactForm.querySelector('button[type="submit"]');
      btn.disabled = true;
      const original = btn.innerHTML;
      btn.innerHTML = '<span class="spinner-border spinner-border-sm me-2" role="status"></span>Sending...';
      setTimeout(() => {
        btn.disabled = false;
        btn.innerHTML = original;
        const toast = document.createElement('div');
        toast.className = 'position-fixed bottom-0 end-0 p-3';
        toast.style.zIndex = 9999;
        toast.innerHTML = '<div class="toast show align-items-center text-bg-success border-0"><div class="d-flex"><div class="toast-body">Thanks! Your message was simulated as sent.</div><button type="button" class="btn-close btn-close-white me-2 m-auto" aria-label="Close"></button></div></div>';
        document.body.appendChild(toast);
        toast.querySelector('.btn-close').addEventListener('click', () => toast.remove());
        contactForm.reset();
      }, 1200);
    }

    // ========= Small enhancements =========
    document.querySelectorAll('#navMenu .nav-link').forEach(navlink => {
      navlink.addEventListener('click', () => {
        const bsCollapse = bootstrap.Collapse.getInstance(document.getElementById('navMenu'));
        if (bsCollapse && window.innerWidth < 992) bsCollapse.hide();
      });
    });

    const testimonialEl = document.querySelector('#testimonialCarousel');
    if (testimonialEl) {
      new bootstrap.Carousel(testimonialEl, {
        interval: 4500,
        ride: 'carousel'
      });
    }

    const contactModalEl = document.getElementById('contactModal');
    contactModalEl.addEventListener('shown.bs.modal', () => {
      document.getElementById('mname').focus();
    });

    window.addEventListener('load', () => {
      document.querySelectorAll('.hero-content.reveal').forEach(h => h.classList.add('visible'));
    });

    // ========= Advanced Chatbot Implementation =========

    const chatLaunch = document.getElementById('chatLaunch');
    const chatPanel = document.getElementById('chatPanel');
    const chatBody = document.getElementById('chatBody');
    const chatInput = document.getElementById('chatInput');
    const sendBtn = document.getElementById('sendBtn');
    const closeChat = document.getElementById('closeChat');
    const clearChatBtn = document.getElementById('clearChat');
    const exportChatBtn = document.getElementById('exportChat');

    // localStorage key for chat history
    const CHAT_KEY = 'casep_chat_history_v1';

    // default bot behavior - customizable responses
    const BOT_KB = [
      { q: /pricing|price|cost/i, a: "Our pricing depends on the service and scale. For a quick estimate, tell me which service you're interested in and approximate scope (e.g., monthly bookkeeping for 1-5 employees)." },
      { q: /accounting/i, a: "We offer bookkeeping, audits, payroll, tax advisory and strategic financial planning. Want a detailed PDF-ready scope?" },
      { q: /hr|human resource|hiring/i, a: "We provide recruitment, HR outsourcing, performance management, and training programs. Would you like sample packages?" },
      { q: /marketing/i, a: "Marketing services include brand positioning, market research, and campaign planning. Tell me your industry for suggestions." },
      { q: /advertis|ad campaig/i, a: "We handle creative campaigns, media buying and content production across digital and traditional channels." },
      { q: /technology|it|software/i, a: "Technology services: digital transformation, systems integration, software development, and cybersecurity." },
      { q: /consult/i, a: "Our consulting team focuses on strategy, operations improvement, and implementation support. What's your primary challenge?" },
      { q: /contact|reach|call/i, a: "You can reach us via the contact form on the site or send an email to info@casep.example (replace with your real email). Want me to open the contact form?" }
    ];

    // small helper to append messages
    function appendMessage(text, who = 'bot', meta = {}) {
      const el = document.createElement('div');
      el.className = 'message ' + (who === 'user' ? 'user' : 'bot');
      el.innerHTML = text;
      if (meta && meta.timestamp) {
        el.setAttribute('data-ts', meta.timestamp);
      }
      chatBody.appendChild(el);
      // keep scroll at bottom
      setTimeout(() => chatBody.scrollTop = chatBody.scrollHeight, 60);
    }

    // typing indicator element
    function createTypingIndicator() {
      const wrap = document.createElement('div');
      wrap.className = 'message bot';
      const typing = document.createElement('div');
      typing.className = 'typing';
      const dot1 = document.createElement('span'); dot1.className = 'dot';
      const dot2 = document.createElement('span'); dot2.className = 'dot';
      const dot3 = document.createElement('span'); dot3.className = 'dot';
      typing.appendChild(dot1);
      typing.appendChild(dot2);
      typing.appendChild(dot3);
      wrap.appendChild(typing);
      return wrap;
    }

    // load saved history
    function loadHistory() {
      const raw = localStorage.getItem(CHAT_KEY);
      if (!raw) return [];
      try {
        const arr = JSON.parse(raw);
        arr.forEach(item => {
          appendMessage(item.text, item.who, { timestamp: item.ts });
        });
        return arr;
      } catch (e) {
        console.warn('Failed to parse chat history', e);
        localStorage.removeItem(CHAT_KEY);
        return [];
      }
    }

    // save message (persist)
    function saveMessage(who, text) {
      const ts = Date.now();
      const raw = localStorage.getItem(CHAT_KEY);
      const arr = raw ? JSON.parse(raw) : [];
      arr.push({ who, text, ts });
      localStorage.setItem(CHAT_KEY, JSON.stringify(arr));
    }

    // clear history
    function clearHistory() {
      localStorage.removeItem(CHAT_KEY);
      chatBody.innerHTML = '';
    }

    // export history as text file
    function exportHistory() {
      const raw = localStorage.getItem(CHAT_KEY);
      const arr = raw ? JSON.parse(raw) : [];
      let text = 'CASEP Chat Export\n\n';
      arr.forEach(m => {
        const time = new Date(m.ts).toLocaleString();
        text += `[${time}] ${m.who.toUpperCase()}: ${m.text}\n\n`;
      });
      const blob = new Blob([text], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'casep-chat-export.txt';
      a.click();
      URL.revokeObjectURL(url);
    }

    // simple bot response engine (synchronous-ish with typing delay)
    function botRespond(userText) {
      // find keyword match
      for (const kb of BOT_KB) {
        if (kb.q.test(userText)) {
          return kb.a;
        }
      }
      // fallback small logic
      if (/help|support|assist/i.test(userText)) {
        return "I'm here to help â€” tell me what you need: pricing, services, partnerships, or contact details.";
      }
      // friendly fallback
      return "Thanks for asking! Could you share a bit more detail so I can provide a helpful answer (e.g., which service or what goal)?";
    }

    // send flow (user message -> save -> show typing -> bot reply -> save)
    function handleSendMessage(rawText) {
      const text = (rawText || '').trim();
      if (!text) return;
      appendMessage(escapeHtml(text), 'user');
      saveMessage('user', text);
      chatInput.value = '';
      chatInput.focus();

      // show typing indicator
      const typingEl = createTypingIndicator();
      chatBody.appendChild(typingEl);
      chatBody.scrollTop = chatBody.scrollHeight;

      // simulate typing delay based on length
      const delay = Math.min(1400 + text.length * 20, 3000);
      setTimeout(() => {
        // remove typing
        typingEl.remove();

        // generate reply
        const reply = botRespond(text);
        appendMessage(escapeHtml(reply), 'bot');
        saveMessage('bot', reply);
      }, delay);
    }

    // escape simple HTML for messages
    function escapeHtml(str) {
      return str.replace(/[&<>"']/g, function (m) {
        return ({
          '&': '&amp;',
          '<': '&lt;',
          '>': '&gt;',
          '"': '&quot;',
          "'": '&#39;'
        })[m];
      });
    }

    // open/close chat panel
    function openChat() {
      chatPanel.classList.add('open');
      chatPanel.classList.remove('minimized');
      chatPanel.setAttribute('aria-hidden', 'false');
      chatInput.focus();
    }

    function closeChatPanel() {
      chatPanel.classList.remove('open');
      chatPanel.classList.add('minimized');
      chatPanel.setAttribute('aria-hidden', 'true');
    }

    // initialize chat UI and events
    (function initChat() {
      // load existing history
      loadHistory();

      // if no history, show welcome message
      const raw = localStorage.getItem(CHAT_KEY);
      const had = raw ? JSON.parse(raw) : [];
      if (!had || had.length === 0) {
        const welcome = "Hi! I'm CASEP Assistant â€” I can help with services, pricing estimates, or getting you in touch with our team. Try asking: 'what services do you offer?'";
        appendMessage(escapeHtml(welcome), 'bot');
        saveMessage('bot', welcome);
      }

      // toggle open on launch click
      chatLaunch.addEventListener('click', () => {
        if (chatPanel.classList.contains('open')) {
          closeChatPanel();
        } else {
          openChat();
        }
      });

      // close button
      closeChat.addEventListener('click', () => closeChatPanel());

      // send on button
      sendBtn.addEventListener('click', () => {
        handleSendMessage(chatInput.value);
      });

      // send on Enter
      chatInput.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          handleSendMessage(chatInput.value);
        }
      });

      // clear
      clearChatBtn.addEventListener('click', () => {
        if (confirm('Clear chat history?')) {
          clearHistory();
          const welcome2 = "Chat cleared. I'm CASEP Assistant â€” ask me anything about our services.";
          appendMessage(escapeHtml(welcome2), 'bot');
          saveMessage('bot', welcome2);
        }
      });

      // export
      exportChatBtn.addEventListener('click', exportHistory);

      // accessibility: close chat with Esc
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeChatPanel();
      });

      // theme sync for chat-launch icon color (update on load & theme changes)
      function updateChatIconTheme() {
        const theme = bodyEl.getAttribute('data-theme');
        const icon = chatLaunch.querySelector('i');
        if (theme === 'dark') icon.style.color = '#FFF';
        else icon.style.color = '#07111a';
      }
      updateChatIconTheme();
      // update when theme toggled (observe localStorage maybe)
      const mo = new MutationObserver(updateChatIconTheme);
      mo.observe(bodyEl, { attributes: true, attributeFilter: ['data-theme'] });
    })();

    // End of chat implementation
  </script>
</body>

</html>
